{"version":3,"sources":["components/filter.js","components/form.js","components/persons.js","services/axiFunctions.js","components/notification.js","App.js","index.js"],"names":["Filter","filterHandler","onChange","AddPersonForm","addContact","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","placeholder","value","onClick","type","Persons","persons","removeFunction","map","person","key","name","number","style","borderRadius","paddingTop","margin","border","background","id","baseUrl","axios","get","then","response","data","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","filtered","setFiltered","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","axiFunctions","document","title","e","filter","toUpperCase","includes","target","event","preventDefault","contact","some","trim","window","confirm","personToUpdate","find","setTimeout","catch","concat","personToDelete","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ea246b61.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterHandler }) => (\r\n  <div>\r\n    filter shown with: <input onChange={filterHandler} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst AddPersonForm = ({\r\n  addContact,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addContact}>\r\n      <div>\r\n        name:{\" \"}\r\n        <input\r\n          placeholder=\"name here\"\r\n          value={newName}\r\n          onChange={handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:{\" \"}\r\n        <input\r\n          placeholder=\"number here\"\r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <button onClick={addContact} type=\"submit\">\r\n        add\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nexport default AddPersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, removeFunction }) =>\r\n  persons.map((person) => (\r\n    <div key={person.name}>\r\n      {person.name} {person.number}\r\n      <button\r\n        style={{\r\n          borderRadius: \"4px\",\r\n          paddingTop: \"2px\",\r\n          margin: \"2px\",\r\n          border: \"2px solid blue\",\r\n          background: \"pink\",\r\n        }}\r\n        onClick={() => removeFunction(person.id)}\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  ));\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAllPersons = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst createPerson = (person) => {\r\n  const request = axios.post(baseUrl, person);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (id, person) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, person);\r\n  return request.then((response) => response.data);\r\n};\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAllPersons, createPerson, updatePerson, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className={type}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/filter\";\r\nimport AddPersonForm from \"./components/form\";\r\nimport Persons from \"./components/persons\";\r\nimport axiFunctions from \"./services/axiFunctions\";\r\nimport Notification from \"./components/notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filtered, setFiltered] = useState(persons);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axiFunctions.getAllPersons().then((response) => {\r\n      setFiltered(response);\r\n      setPersons(response);\r\n    });\r\n  }, []); // add \"persons\" inside the empty array to update contact list when the database changes, even on other browsers\r\n  useEffect(() => {\r\n    document.title = \"Erixhens' Phonebook\";\r\n  });\r\n  const addContact = (event) => {\r\n    event.preventDefault();\r\n    const contact = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    if (\r\n      persons.some(\r\n        (person) =>\r\n          person.name.toUpperCase().trim() === contact.name.toUpperCase().trim()\r\n      )\r\n    ) {\r\n      if (\r\n        window.confirm(\r\n          `${contact.name} already added on the phonebook, do you want to update it?`\r\n        )\r\n      ) {\r\n        const personToUpdate = filtered.find(\r\n          (person) => person.name === newName\r\n        );\r\n        axiFunctions\r\n          .updatePerson(personToUpdate.id, contact)\r\n          .then(() => {\r\n            axiFunctions\r\n              .getAllPersons()\r\n              .then((response) => {\r\n                setFiltered(response);\r\n                setSuccessMessage(`${newName} number updated correctly`);\r\n                setTimeout(() => {\r\n                  setSuccessMessage(null);\r\n                }, 3000);\r\n              })\r\n              .catch(() => {\r\n                setErrorMessage(\r\n                  `Couldn't update ${personToUpdate.name} because it has already been deleted`\r\n                );\r\n                setTimeout(() => {\r\n                  setErrorMessage(null);\r\n                }, 3000);\r\n              });\r\n          })\r\n          .catch(() => {\r\n            setErrorMessage(\r\n              `Couldn't update ${personToUpdate.name} because it has already been deleted`\r\n            );\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n            }, 3000);\r\n          });\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      }\r\n    } else {\r\n      axiFunctions\r\n        .createPerson(contact)\r\n        .then((contact) => {\r\n          setFiltered(persons.concat(contact));\r\n          setSuccessMessage(`${contact.name}'s number added correctly`);\r\n          setTimeout(() => {\r\n            setSuccessMessage(null);\r\n          }, 3000);\r\n        })\r\n        .catch(() => {\r\n          setErrorMessage(\r\n            `Couldn't update \"${contact.name}\" because it has already been deleted`\r\n          );\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 3000);\r\n        });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    }\r\n  };\r\n  const removeContact = (id) => {\r\n    const personToDelete = filtered.find((person) => person.id === id);\r\n    if (\r\n      window.confirm(`Are you sure you want to delete ${personToDelete.name}?`)\r\n    ) {\r\n      axiFunctions\r\n        .deletePerson(personToDelete.id)\r\n        .then(() => {\r\n          setFiltered(filtered.filter((person) => person.id !== id));\r\n          setErrorMessage(`\"${personToDelete.name}\" deleted!`);\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 3000);\r\n        })\r\n        .catch(() => {\r\n          setErrorMessage(\r\n            ` Couldn't delete ${personToDelete.name} as it has already been deleted`\r\n          );\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 3000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n  const filterContacts = (e) => {\r\n    return setFiltered(\r\n      persons.filter((person) =>\r\n        person.name.toUpperCase().includes(e.target.value.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1>Phonebook</h1>\r\n      <Notification message={successMessage} type={\"success\"} />\r\n      <Notification message={errorMessage} type={\"error\"} />\r\n      <Filter filterHandler={filterContacts} />\r\n      <AddPersonForm\r\n        addContact={addContact}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filtered} removeFunction={removeContact} />\r\n      ...\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}